<!DOCTYPE html>
<html lang="zxx" class="no-js">

<head>
	<!-- Mobile Specific Meta -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Favicon-->
	<link rel="shortcut icon" href="img/fav.png">
	<!-- Author Meta -->
	<meta name="author" content="codepixer">
	<!-- Meta Description -->
	<meta name="description" content="">
	<!-- Meta Keyword -->
	<meta name="keywords" content="">
	<!-- meta character set -->
	<meta charset="UTF-8">
	<!-- Site Title -->
	<title>Smuuth Events</title>

	<link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet">
	<!--
			CSS
			============================================= -->
	<link rel="stylesheet" href="css/linearicons.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/magnific-popup.css">
	<link rel="stylesheet" href="css/nice-select.css">
	<link rel="stylesheet" href="css/animate.min.css">
	<link rel="stylesheet" href="css/owl.carousel.css">
	<link rel="stylesheet" href="css/main.css">
</head>

<body>

	<header id="header" id="home">
		<div class="container">
			<div class="row align-items-center justify-content-between d-flex">
				<div id="logo">
					<a href="index.html"><img src="img/SMUUTH_words_pastel_ultraclean.png" alt="SMUUTH"
							style="height:48px;width:auto;display:block"></a>
				</div>
				<nav id="nav-menu-container">
					<ul class="nav-menu">
						<li class="menu-active"><a href="index.html">Home</a></li>
						<li><a href="about-us.html">About Us</a></li>
						<li><a href="events.html">Events</a></li>
						<li><a href="calendar.html">Calendar</a></li>
						<li><a href="points.html">Points</a></li>
						<li><a class="ticker-btn" href="reviews.html">Feedback Form</a></li>
						<li>
							<a href="../loginPage_file/ViewProfile.html" class="profile-icon-btn" aria-label="Profile">
								<i class="fa fa-user"></i>
							</a>
						</li>
						<!-- <li><a href="logs.html">Logs</a></li> -->
						<!-- <li><a class="ticker-btn" href="../loginPage_file/registration.html">Sign Up</a></li>
						<li><a class="ticker-btn" href="../loginPage_file/login.html">Login</a></li> -->

						<!-- <li class="menu-has-children"><a href="">Others</a>
				            <ul>
								<li><a href="elements.html">elements</a></li>
								<li><a href="search.html">search</a></li>
								<li><a href="single.html">single</a></li>
				            </ul>
				          </li> -->
						<!-- <li><a class="ticker-btn" href="#">Signup</a></li> -->
					</ul>

				</nav><!-- #nav-menu-container -->
			</div>
		</div>
	</header><!-- #header -->


	<!-- start banner Area -->
	<section class="banner-area relative" id="home">
		<div class="overlay overlay-bg"></div>
		<div class="container">
			<div class="row fullscreen d-flex align-items-center justify-content-center">
				<div class="banner-content col-lg-12">
					<h1 class="text-white">
						<span>Smuuth</span> events
					</h1>
					<form action="events.html" method="GET" class="serach-form-area">
						<div class="row justify-content-center form-wrap">
							<div class="col-lg-4 form-cols">
								<input type="text" class="form-control" name="keywords"
									placeholder="What events do you want to help out in?">
							</div>
							<!-- <div class="col-lg-3 form-cols">
										<div class="default-select" id="default-selects">
											<select>
												<option value="1">Select area</option>
												<option value="2">Dhaka</option>
												<option value="3">Rajshahi</option>
												<option value="4">Barishal</option>
												<option value="5">Noakhali</option>
											</select>
										</div>
									</div> -->
							<div class="col-lg-4 form-cols">
								<div class="default-select" id="default-selects">
									<select name="category">
										<option value="all">All Categories</option>
										<option value="sports">Sports</option>
										<option value="clubs">Clubs</option>
										<option value="performing-arts">Performing Arts</option>
										<option value="community-service">Community Service Projects</option>
										<option value="others">Others</option>
									</select>
								</div>
							</div>
							<div class="col-lg-2 form-cols">
								<button type="submit" class="btn btn-info">
									<span class="lnr lnr-magnifier"></span> Search
								</button>
							</div>
						</div>
					</form>
					<!-- <p class="text-white"> <span>Search by tags:</span> Tecnology, Business, Consulting, IT Company, Design, Development</p> -->
				</div>
			</div>
		</div>
	</section>
	<!-- End banner Area -->

	<!-- Start features Area -->
	<section class="features-area">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-6">
					<div class="single-feature">
						<h4>Event Creation</h4>
						<p>
							Need help for events? Request for help here.
						</p>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="single-feature">
						<h4>Applying</h4>
						<p>
							Apply to help out in events in exchange for points.
						</p>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="single-feature">
						<h4>Points Collection</h4>
						<p>
							Get points from helping out and redeem prizes.
						</p>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="single-feature">
						<h4>Review and Report</h4>
						<p>
							Submit constructive reviews for users and admins now!
						</p>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- End features Area -->

	<!-- Start popular-post Area -->
	<div class="popular-post-area pt-100">
		<div class="container col-10">
			<div class="row align-items-center">
				<div class="active-popular-post-carusel">
					<div class="single-popular-post d-flex flex-row ">
						<div class="thumb">
							<img class="img-fluid" src="img/SMUUTH_words_pastel_ultraclean.png"
								style="height:48px;width:auto;display:block" alt="logo.png">
							<!-- <a class="btns text-uppercase" href="#">view job post</a> -->
						</div>
						<div class="details">
							<a href="#">
								<h4>SMU Viva La Che</h4>
							</a>
							<h6>T-Junction</h6>
							<p>
								A grand festival celebrating SMU brotherhood and freedom.
							</p>
						</div>
					</div>
					<div class="single-popular-post d-flex flex-row">
						<div class="thumb">
							<img class="img-fluid" src="img/SMUUTH_words_pastel_ultraclean.png"
								style="height:48px;width:auto;display:block" alt="logo.png">
							<!-- <a class="btns text-uppercase" href="#">view job post</a> -->
						</div>
						<div class="details">
							<a href="#">
								<h4>SMU 2025 Pretzel Day</h4>
							</a>
							<h6>SCIS SR 2-5</h6>
							<p>
								Pretzel day celebration"
							</p>
						</div>
					</div>
					<div class="single-popular-post d-flex flex-row">
						<div class="thumb">
							<img class="img-fluid" src="img/SMUUTH_words_pastel_ultraclean.png"
								style="height:48px;width:auto;display:block" alt="logo.png">
							<!-- <a class="btns text-uppercase" href="#">view job post</a> -->
						</div>
						<div class="details">
							<a href="#">
								<h4>Vivace</h4>
							</a>
							<h6>Campus brown</h6>
							<p>
								test
							</p>
						</div>
					</div>
					<div class="single-popular-post d-flex flex-row">
						<div class="thumb">
							<img class="img-fluid" src="img/SMUUTH_words_pastel_ultraclean.png"
								style="height:48px;width:auto;display:block" alt="logo.png">
							<!-- <a class="btns text-uppercase" href="#">view job post</a> -->
						</div>
						<div class="details">
							<a href="#">
								<h4>Mask</h4>
							</a>
							<h6>dsajndkjnadjs</h6>
							<p>
								skdjanjkdnjkandkjnjsakd
							</p>
						</div>
					</div>
					<div class="single-popular-post d-flex flex-row">
						<div class="thumb">
							<img class="img-fluid" src="img/SMUUTH_words_pastel_ultraclean.png"
								style="height:48px;width:auto;display:block" alt="logo.png">
							<!-- <a class="btns text-uppercase" href="#">view job post</a> -->
						</div>
						<div class="details">
							<a href="#">
								<h4>Test Event</h4>
							</a>
							<h6>123 Main Street 45</h6>
							<p>
								hdfjbdahjadj
							</p>
						</div>
					</div>
					<div class="single-popular-post d-flex flex-row">
						<div class="thumb">
							<img class="img-fluid" src="img/SMUUTH_words_pastel_ultraclean.png"
								style="height:48px;width:auto;display:block" alt="logo.png">
							<!-- <a class="btns text-uppercase" href="#">view job post</a> -->
						</div>
						<div class="details">
							<a href="#">
								<h4>SMU clash royale tournament</h4>
							</a>
							<h6>Campus brown</h6>
							<p>
								it's time to clash
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- End popular-post Area -->

	<!-- Start feature-cat Area -->
	<section class="feature-cat-area pt-100 pb-100" id="category"
		style="background: linear-gradient(to right, hsla(254, 78%, 82%, 1), hsla(249, 94%, 72%, 1));">
		<div class="container">
			<div class="row d-flex justify-content-center">
				<div class="menu-content pb-60 col-lg-10">
					<div class="title text-center">
						<h1 class="mb-10">Featured Events</h1>
						<p style="color:black">See what events are ongoing now!</p>
					</div>
				</div>
			</div>
			<div class="row justify-content-center">
				<div class="col-lg-2 col-md-4 col-sm-6">
					<div class="single-fcat">
						<a href="events.html?category=sports">
							<img style="width: 60px; height: 50px;" src="img/sports.png" alt="">
						</a>
						<p>Sports</p>
					</div>
				</div>
				<div class="col-lg-2 col-md-4 col-sm-6">
					<div class="single-fcat">
						<a href="events.html?category=clubs">
							<img src="img/o2.png" alt="">
						</a>
						<p>Clubs</p>
					</div>
				</div>
				<div class="col-lg-2 col-md-4 col-sm-6">
					<div class="single-fcat">
						<a href="events.html?category=performing-arts">
							<img style="width: 60px; height: 50px;" src="img/performingarts.png" alt="">
						</a>
						<p>Performing Arts</p>
					</div>
				</div>
				<div class="col-lg-2 col-md-4 col-sm-6">
					<div class="single-fcat">
						<a href="events.html?category=community-service">
							<img src="img/o4.png" alt="">
						</a>
						<p>Community Service</p>
					</div>
				</div>
				<div class="col-lg-2 col-md-4 col-sm-6">
					<div class="single-fcat">
						<a href="events.html?category=others">
							<img src="img/o5.png" alt="">
						</a>
						<p>Others</p>
					</div>
				</div>
				<!-- <div class="col-lg-2 col-md-4 col-sm-6">
					<div class="single-fcat">
						<a href="category.html">
							<img src="img/o6.png" alt="">
						</a>
						<p>Goverment</p>
					</div>
				</div> -->
			</div>
		</div>
	</section>
	<!-- End feature-cat Area -->



	<!-- Start post Area -->
	<section class="post-area section-gap">
    <div class="container">
        <div class="row d-flex">
            <!-- LEFT SIDE: Video (8 columns = 66.67% width) -->
            <div class="col-lg-8 post-list">
                <!-- Video Section -->
                <h2 class="text-center mb-4">Watch Our Introduction</h2>
                <div class="video-container" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
                    <iframe 
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
                        src="https://www.youtube.com/embed/VIDEO_ID" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen>
                    </iframe>
                </div>
                <!-- End Video Section -->
                
                

            </div>
            
            <!-- RIGHT SIDE: Top Rated Reviews (4 columns = 33.33% width) -->
            <div class="col-lg-4 sidebar">
               

                <div class="single-slidebar">
                    <h4>Top rated reviews for events</h4>
                    <div id="topRatedEvents" class="active-relatedjob-carusel">
                        
                    </div>
                </div>



            </div>
        </div>
    </div>
</section>
	<!-- End post Area -->


	<!-- Start callto-action Area -->
	<section class="submit-area section-gap" style="background-color:whitesmoke;">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 col-sm-9 mb-2 mx-auto">
					<div class="submit-left">
						<h4>Find Helpers</h4>
						<p>
							Post your needs and get verified helpers in minutes.
						</p>
						<a href="../eventCreation/eventCreate.html" class="primary-btn header-btn">Post a Job</a>
					</div>
				</div>
				<div class="col-lg-6 col-sm-9 mb-2 mx-auto">
					<div class="submit-right">
						<h4>Find Events</h4>
						<p>
							Explore what’s happening around campus today.
						</p>
						<a href="../homePage/events.html" class="primary-btn header-btn">Find Events</a>
					</div>
				</div>

			</div>
		</div>
	</section>
	<!-- End calto-action Area -->

	

	<!-- start footer Area -->
	<footer class="footer-area section-gap">
		<div class="container">
			<div class="row">
				<div class="col-lg-6  col-md-12">
					<div class="single-footer-widget newsletter">
						<h6>Newsletter</h6>
						<p>You can trust us. We only send promo offers, not a single spam.</p>
						<form id="newsletter-form">
							<div class="form-group row" style="width: 100%">
								<div class="col-lg-8 col-md-12">
									<input name="to_email" placeholder="Enter Email" onfocus="this.placeholder = ''"
										onblur="this.placeholder = 'Enter Email'" required type="email">
								</div>

								<div class="col-lg-4 col-md-12">
									<button type="submit" class="nw-btn primary-btn">
										Subscribe<span class="lnr lnr-arrow-right"></span>
									</button>
								</div>
							</div>
							<div class="info" id="newsletter-response">

							</div>
						</form>
					</div>
				</div>
			</div>

			<div class="row footer-bottom d-flex justify-content-between">
				<p class="col-lg-8 col-sm-6 footer-text m-0 text-white">
					Copyright &copy;
					<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is
					made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com"
						target="_blank">Colorlib</a>
				</p>
				<div class="col-lg-4 col-sm-6 footer-social">
					<a href="#"><img src="img/facebook logo.svg" alt="facebook logo" class="socialLogo"></a>
					<a href="#"><img src="img/tiktok logo.png.svg" alt="tiktok logo" class="socialLogo"></a>
					<a href="https://www.instagram.com/smuuthevents?igsh=ZTJ2OWs2MHB2OW94&utm_source=qr">
						<img src="img/instagram logo.svg" alt="instagram logo" class="socialLogo">
					</a>
				</div>
			</div>
		</div>
	</footer>

	<!-- End footer Area -->

	<script src="js/vendor/jquery-2.2.4.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script src="js/vendor/bootstrap.min.js"></script>
	<script type="text/javascript"
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhOdIF3Y9382fqJYt5I_sswSrEw5eihAA"></script>
	<script src="js/easing.min.js"></script>
	<script src="js/hoverIntent.js"></script>
	<script src="js/superfish.min.js"></script>
	<script src="js/jquery.ajaxchimp.min.js"></script>
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/jquery.sticky.js"></script>
	<script src="js/jquery.nice-select.min.js"></script>
	<script src="js/parallax.min.js"></script>
	<script src="js/mail-script.js"></script>
	<script src="js/main.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
	<script type="text/javascript">
			(function () {
				emailjs.init("VKk3x4Hb19VUPRuAh"); // Replace with your EmailJS public key
			})();

			document.getElementById('newsletter-form').addEventListener('submit', function (event) {
				event.preventDefault();

				const btn = this.querySelector('button[type="submit"]');
				const responseDiv = document.getElementById('newsletter-response');
				const originalBtnHtml = btn.innerHTML;

				// Disable button and show loading
				btn.disabled = true;
				btn.innerHTML = 'Sending...';
				responseDiv.innerHTML = '';

				// Send email using EmailJS
			emailjs.sendForm('service_qxa591g', 'template_4ql5kl9', this)
				.then(function (response) {
					console.log('Newsletter subscription successful!', response.status, response.text);
					responseDiv.innerHTML = '<p style="color: #4CAF50; margin-top: 10px;">✓ Successfully subscribed!</p>';
					document.getElementById('newsletter-form').reset();

					setTimeout(function () {
						btn.disabled = false;
						btn.innerHTML = originalBtnHtml;
						responseDiv.innerHTML = '';
					}, 3000);
				}, function (error) {
					console.log('Newsletter subscription failed:', error);
					responseDiv.innerHTML = '<p style="color: #f44336; margin-top: 10px;">✗ Failed to subscribe. Please try again.</p>';

					btn.disabled = false;
					btn.innerHTML = originalBtnHtml;
				});
		});
	</script>
</body>


</html>


<script type="module">
	import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
	import { getFirestore, collection, query, orderBy, limit, getDocs, where } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
	import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

	const firebaseConfig = {
		apiKey: "AIzaSyByPrDz810_ttwZz0BdAJkeP54rMIqH3uw",
		authDomain: "wad2-505be.firebaseapp.com",
		databaseURL: "https://wad2-505be-default-rtdb.asia-southeast1.firebasedatabase.app",
		projectId: "wad2-505be",
		storageBucket: "wad2-505be.firebasestorage.app",
		messagingSenderId: "221863917439",
		appId: "1:221863917439:web:2a517ca11c83e991388c4a",
		measurementId: "G-L69GG585GF"
	};

	const app = initializeApp(firebaseConfig);
	const db = getFirestore(app);
	const auth = getAuth(app);

	//if profileID not initialized, initilize
	if (localStorage.getItem("profileID") == null) {
		onAuthStateChanged(auth, async (user) => {
			if (user) {
				const profilesRef = collection(db, "profiles");
				const q = query(profilesRef, where("userId", "==", user.uid));
				const querySnapshot = await getDocs(q);
				querySnapshot.forEach((doc) => {
					let profileID = doc.id;
					localStorage.setItem("profileID", profileID);
				});
			}
		});
	}

	async function loadTopRatedFeedback() {
		const topContainer = document.getElementById('topRatedEvents');

		if (!topContainer) {
			console.error("Element with id 'topRatedEvents' not found!");
			return;
		}

		topContainer.innerHTML = '<p>Loading...</p>';

		const feedbackRef = collection(db, "feedback");
		const q = query(feedbackRef, orderBy("rating", "desc"), limit(3));

		try {
			const snapshot = await getDocs(q);

			if (snapshot.empty) {
				topContainer.innerHTML = "<p>No top rated feedback found.</p>";
				return;
			}

			topContainer.innerHTML = ''; // Clear loading message

			snapshot.forEach(doc => {
				const data = doc.data();

				// Create card using correct fields from feedback documents
				const card = document.createElement('div');
				card.classList.add('single-rated');
				card.innerHTML = `
        <h4>${data.eventName || 'Unknown Event'}</h4>
        <h5>Rating: ${data.rating || 0} ★</h5>
        <p>${data.feedback || ''}</p>
        <p><strong>By:</strong> ${data.helperName || 'Anonymous'}</p>
      `;

				topContainer.appendChild(card);
			});
		} catch (err) {
			console.error("Error loading feedback:", err);
			topContainer.innerHTML = `<p>Error loading feedback: ${err.message}</p>`;
		}
	}

	window.addEventListener('load', () => {
		console.log("Page loaded, calling loadTopRatedFeedback");
		loadTopRatedFeedback();
	});


</script>

<!-- to test for errors -->
<!-- <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyByPrDz810_ttwZz0BdAJkeP54rMIqH3uw",
  authDomain: "wad2-505be.firebaseapp.com",
  databaseURL: "https://wad2-505be-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "wad2-505be",
  storageBucket: "wad2-505be.firebasestorage.app",
  messagingSenderId: "221863917439",
  appId: "1:221863917439:web:2a517ca11c83e991388c4a",
  measurementId: "G-L69GG585GF"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function testFirestore() {
  try {
    // Try to read ALL documents without any query
    console.log("Testing basic read...");
    const eventsRef = collection(db, "events");
    const snapshot = await getDocs(eventsRef);
    
    console.log("Total documents in 'events' collection:", snapshot.size);
    
    if (snapshot.empty) {
      console.log("Collection is empty or doesn't exist");
    } else {
      snapshot.forEach(doc => {
        console.log("Document ID:", doc.id);
        console.log("Document data:", doc.data());
        console.log("Has 'stars' field?", doc.data().stars !== undefined);
        console.log("---");
      });
    }
  } catch (error) {
    console.error("Error:", error.code, error.message);
  }
}

window.addEventListener('load', testFirestore);
</script>
```

## What to check based on the results:

**If still 0 documents:**
- Collection might be named something other than "events"
- Firestore security rules are blocking reads
- You're using Realtime Database instead of Firestore (I see you have a databaseURL in your config)

**If you see documents but no `stars` field:**
- Add the `stars` field to your documents, OR
- Remove the `orderBy("stars", "desc")` from your query

**Check your Firestore security rules** in Firebase Console:
- Go to Firestore Database → Rules
- Make sure you have read permission. For testing, you can use:
```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;  // WARNING: Only for testing!
    }
  }
} -->
